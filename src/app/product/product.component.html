<div class="row"> 
  <div class="table-responsive text-nowrap col-lg-8">
      <!--Table-->
      <table class="table">
  
        <!--Table head-->
        <thead class="thead-light">
          <tr>
            <th>Ref</th>
            <th>Prodcut Name</th>
            <th>Details</th>
            
             <th>Quantity in Stock</th>
             <th>Price</th>
            
            <th><button class="btn btn-outline-primary" (click)="operation = 'add' ">ADD</button></th>
          </tr>
        </thead>
        <!--Table head-->
  
        <!--Table body-->
        <tbody>
         

                              <tr  *ngFor="let prod of products">
                                      <td> {{prod.ref}} </td>
                                      <td> {{prod.pname}} </td>
                                     <td > {{prod.descrip}} </td>
                                      
                                      <td> {{prod.quantity}} </td>
                                      <td> {{prod.price}} DT </td>
                                     
                                      <td><button class="btn btn-outline-primary" (click)="operation = 'edit'; selectedProd = prod;">Edit</button>
                                        <button class="btn btn-outline-danger" (click)="operation= 'remove'">Delete</button>
                                      </td>
  
                                    </tr>  
  
  
  
  
        
        </tbody>
        <!--Table body-->
  
  
      </table>

     

      
      <!--Table-->
    </div>
  <div class="col-lg-3 offset-lg-1">
  <div class="card">
  
      <div class="card-header bg-info text-white">
          {{operation == 'add' ? 'Add Prodcut' :
            operation == 'edit' ? 'Edit Prodcut':
            operation == 'remove' ? 'Delete Prodcut':'' }}
      </div>
      <div class="card-body">
    
             <form [formGroup]="ProductForm">
              <div class="form-group">
                <label> Product Name </label>
                <input type="text" name="ref" class="form-control" formControlName="ref"  [(ngModel)]="selectedProd.ref" >
              </div>
              <div class="alert alert-danger" *ngIf="ProductForm.controls['ref'].invalid &&
               (ProductForm.controls['ref'].touched || ProductForm.controls['ref'].dirty)" > 
              You must enter the name of the product !
              </div>
              <div class="form-group">
                  <label> Product Name </label>
                  <input type="text" name="pname" class="form-control" formControlName="pname"  [(ngModel)]="selectedProd.pname" >
                </div>
              <div class="form-group">
                <label> Quantity in stock  </label>
                <input type="number" name="quantity" class="form-control" formControlName="quantity" min="0" [(ngModel)]="selectedProd.quantity">
              </div>
             
              <div class="form-group">
                <label> Price </label>
                <input type="number"  step="any" name="price" class="form-control" formControlName="price" [(ngModel)]="selectedProd.price">
              </div>
           
              <div class="form-group">
                <label> Some Details </label>
                <textarea type="text" class="form-control" name="descrip" formControlName="descrip" [(ngModel)]="selectedProd.descrip">
                </textarea> 
              </div>
              <button class="btn btn-success" [disabled]="ProductForm.prestine || ProductForm.invalid"
              (click)="operation == 'add' ? addProduct() : updateProduct()">
              
              {{operation == 'add' ? 'Add Prodcut' : operation == 'edit' ? 'Edit Prodcut': ''}}
            </button>
          </form>
    
      </div>
      <div class="card-footer">
         
      </div>
  
  
  
  </div>
  
  </div>
  </div>
  <div class="row">
     <ng-container *ngFor="let prod of products">
        <div class="card" style="width: 18rem;">
           
            <div class="card-body">
              <h5 class="card-title"> {{prod.ref}} </h5>
              <h6 class="card-subtitle mb-2 text-muted"> {{prod.pname}} </h6>
              <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
              <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
          </div>
     </ng-container>
     
  </div>